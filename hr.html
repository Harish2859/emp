<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>HR Dashboard - Professional Format</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet" />
  <style>
    /* Reset & Base */
    *, *::before, *::after {
      margin: 0; padding: 0; box-sizing: border-box;
      font-family: 'Poppins', sans-serif;
    }
    html, body {
      height: 100%;
      background: linear-gradient(to bottom right, #007cf0, #00dfd8);
      color: #111;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
      user-select: none;
    }
    body {
      display: flex;
      min-height: 100vh;
      overflow-x: hidden;
    }

    /* Sidebar */
    nav.sidebar {
      width: 280px;
      background: #0456a2;
      color: white;
      padding: 2rem 1.5rem 2rem;
      display: flex;
      flex-direction: column;
      gap: 2rem;
      position: fixed;
      top: 0; left: 0; bottom: 0;
      box-shadow: 2px 0 15px rgba(0,0,0,0.15);
      z-index: 10;
    }
    nav.sidebar h2 {
      font-weight: 700;
      font-size: 1.9rem;
      letter-spacing: 1px;
      text-align: center;
      user-select: text;
    }
.profile-card-container {
  width: 220px;
  background: #fff;
  border-radius: 18px;
  box-shadow: 0 6px 28px rgba(0, 147, 255, 0.13);
  padding: 2rem 1.5rem 1.5rem 1.5rem;
  margin: 30px auto;
  display: flex;
  flex-direction: column;
  align-items: center;
  position: relative;
}

.profile-preview {
  text-align: center;
  margin-bottom: 2.5rem;
  display: flex;
  flex-direction: column;
  align-items: center;
  position: relative;
}

.profile-preview .circle {
  width: 100px;
  height: 100px;
  background: #0093ff;
  border-radius: 50%;
  margin: 0 auto 0.6rem;
  box-shadow: 0 0 14px 4px #0099ff77;
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  outline: none;
  transition: box-shadow 0.25s, transform 0.25s;
}

/* Optional: slightly enlarge and glow the circle on hover/focus */
.profile-preview .circle:hover,
.profile-preview .circle:focus {
  box-shadow: 0 0 30px 10px #0093ffcc;
  transform: scale(1.05);
}

/* Popup styling */
.profile-preview .popup-info {
  position: absolute;
  left: 110%;
  top: 50%;
  transform: translateY(-50%) scale(0.92);
  background: #fff;
  color: #222;
  min-width: 190px;
  border-radius: 10px;
  box-shadow: 0 8px 28px rgba(9, 93, 159, 0.18);
  font-size: 1rem;
  padding: 14px 18px;
  opacity: 0;
  pointer-events: none;
  visibility: hidden;
  transition: opacity 0.22s, transform 0.22s;
  z-index: 10;
  text-align: left;
}

/* Show popup on hover or focus */
.profile-preview .popup-info:hover {
  opacity: 1;
  visibility: visible;
  transform: translateY(-50%) scale(1);
  pointer-events: auto;
}

.profile-preview .name {
  font-weight: 700;
  font-size: 1.3rem;
  user-select: text;
}

.profile-preview .role {
  font-style: italic;
  font-size: 1rem;
  color: #a6cdff;
  user-select: text;
  margin-top: 0.15rem;
}

    /* Sidebar navigation buttons */
    nav.sidebar .nav-buttons {
      display: flex;
      flex-direction: column;
      gap: 1rem;
      margin-top: auto;
    }
    nav.sidebar button {
      background-color: #007cf0;
      border: none;
      padding: 12px 1rem;
      font-weight: 600;
      color: white;
      border-radius: 10px;
      cursor: pointer;
      font-size: 1.05rem;
      text-align: center;
      transition: background-color 0.3s ease;
      user-select: none;
    }
    nav.sidebar button:hover,
    nav.sidebar button:focus {
      background-color: #005bb5;
      outline: none;
    }


    /* Main Content Area */
    main.dashboard {
      margin-left: 280px;
      padding: 2.5rem 3rem;
      flex: 1;
      background: #f7faff;
      min-height: 100vh;
      overflow-y: auto;
      box-shadow: -2px 0 25px rgba(0,0,0,0.05);
      display: flex;
      flex-direction: column;
      gap: 2.5rem;
      position: relative;
    }


    /* Header */
    header.dashboard-header {
      display: flex;
      align-items: center;
      gap: 1rem;
      color: #0456a2;
      user-select: text;
    }
    header.dashboard-header .back-arrow {
      font-size: 2.5rem;
      cursor: pointer;
      line-height: 1;
      transition: color 0.3s;
    }
    header.dashboard-header .back-arrow:hover,
    header.dashboard-header .back-arrow:focus {
      color: #007cf0;
      outline: none;
    }
    header.dashboard-header h1 {
      font-size: 2.8rem;
      font-weight: 700;
      letter-spacing: 1.2px;
      user-select: text;
    }
    .title-sub {
      font-weight: 600;
      font-size: 1.25rem;
      color: #3698f0;
      margin-top: -0.5rem;
      user-select: text;
    }


    /* Profile Form */
    .profile-card {
      display: flex;
      background: white;
      border-radius: 15px;
      box-shadow: 0 6px 18px rgba(0, 124, 240, 0.15);
      padding: 2rem 2.5rem;
      gap: 3rem;
      align-items: center;
      flex-wrap: wrap;
    }
    .info-fields {
      flex: 1;
      display: grid;
      grid-template-columns: 180px 1fr;
      row-gap: 1.3rem;
      column-gap: 3rem;
      font-weight: 600;
      font-size: 1.05rem;
      color: #134675;
      user-select: text;
    }
    .info-fields label {
      justify-self: end;
    }
    .info-fields input[type="text"] {
      padding: 0.6rem 1rem;
      border-radius: 10px;
      border: none;
      background: #d9e4fb;
      color: #213550;
      font-weight: 600;
      font-size: 1rem;
      transition: background-color 0.25s ease;
      width: 100%;
    }
    .info-fields input[type="text"]:focus {
      outline: none;
      background: #e7f0fe;
      box-shadow: 0 0 10px #007cf0cc;
    }
    /* readonly styling */
    .info-fields input[readonly] {
      background-color: #e1e6f8;
      cursor: not-allowed;
      box-shadow: none;
    }
    .profile-image {
      width: 130px;
      height: 130px;
      border-radius: 50%;
      background-color: #aac4f7;
      box-shadow: 0 5px 20px rgba(0, 124, 240, 0.4);
      flex-shrink: 0;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 3.7rem;
      color: #003c8f;
      user-select: none;
      overflow: hidden;
    }
    .profile-image img {
      width: 130px;
      height: 130px;
      object-fit: cover;
      user-select: none;
    }


    /* Section Cards */
    .section-card {
      background: white;
      padding: 2.5rem 3rem;
      border-radius: 15px;
      box-shadow: 0 6px 18px rgba(0, 124, 240, 0.1);
      user-select: text;
    }
    .section-card h3 {
      font-weight: 700;
      font-size: 1.9rem;
      color: #1754a3;
      margin-bottom: 2.5rem;
      user-select: text;
    }


    /* Grid Fields Personal & Work Details */
    .grid-fields {
      display: grid;
      gap: 2rem 3rem;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    }
    .grid-fields label {
      font-size: 1rem;
      font-weight: 600;
      color: #2a4c77;
      margin-bottom: 0.3rem;
      display: block;
      user-select: text;
    }
    .grid-fields input[type="text"],
    .grid-fields input[type="date"] {
      padding: 0.6rem 1rem;
      width: 100%;
      font-weight: 600;
      font-size: 1rem;
      border: none;
      border-radius: 10px;
      background: #dde5fc;
      color: #15304a;
      transition: background-color 0.25s ease;
      user-select: text;
    }
    .grid-fields input[type="text"]:focus,
    .grid-fields input[type="date"]:focus {
      outline: none;
      background: #e7f0fe;
      box-shadow: 0 0 13px #007cf0cc;
    }
    /* readonly styling */
    .grid-fields input[readonly] {
      background-color: #e1e6f8;
      cursor: not-allowed;
      box-shadow: none;
    }


    /* Download CV Button */
    .download-section {
      text-align: left;
      user-select: none;
    }
    .download-btn {
      background: #dde5fc;
      border: none;
      padding: 14px 32px;
      font-weight: 700;
      color: #10357a;
      font-size: 1.1rem;
      border-radius: 12px;
      cursor: pointer;
      transition: background-color 0.28s ease;
      box-shadow: 0 3px 14px rgb(17 52 156 / 0.43);
    }
    .download-btn:hover,
    .download-btn:focus {
      background-color: #aec7fe;
      outline: none;
      color: #0b2475;
    }


    /* Broadcast Box */
    .broadcast-box label {
      display: block;
      font-weight: 700;
      font-size: 1.1rem;
      color: #275db6;
      user-select: text;
      margin-bottom: 0.7rem;
    }
    .broadcast-box textarea,
    .broadcast-box input[type="text"] {
      width: 100%;
      border-radius: 12px;
      padding: 12px 16px;
      border: none;
      font-weight: 600;
      font-size: 1rem;
      color: #10213b;
      background: #d6dffb;
      resize: vertical;
      transition: background-color 0.3s ease;
      user-select: text;
    }
    .broadcast-box textarea:focus,
    .broadcast-box input[type="text"]:focus {
      outline: none;
      background: #e5efff;
      box-shadow: 0 0 18px #4a78e6cc;
    }
    .broadcast-box textarea {
      min-height: 140px;
      margin-bottom: 1.5rem;
    }
    .send-btn {
      background: #2764e7;
      color: white;
      border: none;
      padding: 14px 28px;
      font-weight: 700;
      font-size: 1.1rem;
      border-radius: 14px;
      cursor: pointer;
      transition: background-color 0.3s ease;
      user-select: none;
      box-shadow: 0 5px 18px rgba(39, 100, 231, 0.7);
    }
    .send-btn:hover,
    .send-btn:focus {
      background-color: #184abb;
      outline: none;
    }


    /* Footer Buttons */
    .footer-buttons {
      display: flex;
      gap: 1.8rem;
      user-select: none;
      margin-top: auto;
    }
    .footer-buttons button {
      flex: 1;
      font-weight: 700;
      font-size: 1.1rem;
      padding: 14px 26px;
      border-radius: 14px;
      border: none;
      cursor: pointer;
      background: #dce5fa;
      color: #153375;
      transition: background-color 0.3s ease, box-shadow 0.3s ease;
      box-shadow: 0 3px 15px rgba(21, 51, 117, 0.3);
    }
    .footer-buttons button:hover,
    .footer-buttons button:focus {
      background-color: #acc0fb;
      box-shadow: 0 7px 22px rgba(21, 51, 117, 0.5);
      outline: none;
      color: #0a245c;
    }

    /* Edit Profile Card - popup styling */
    #edit-profile-card {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      max-width: 650px;
      width: 90%;
      background: white;
      border-radius: 15px;
      box-shadow: 0 12px 40px rgba(0, 124, 240, 0.3);
      padding: 2rem 2.5rem;
      z-index: 1000;
      display: none;
      user-select: text;
    }
    #edit-profile-card h2 {
      margin-top: 0;
      color: #0456a2;
      font-weight: 700;
      font-size: 1.8rem;
      margin-bottom: 1.8rem;
    }
    #edit-profile-card .form-row {
      display: flex;
      align-items: center;
      margin-bottom: 1rem;
    }
    #edit-profile-card label {
      flex: 0 0 140px;
      font-weight: 600;
      color: #134675;
      font-size: 1rem;
    }
    #edit-profile-card input[type="text"], 
    #edit-profile-card input[type="date"] {
      flex: 1;
      padding: 0.5rem 1rem;
      font-size: 1rem;
      border-radius: 10px;
      border: 1.8px solid #cbd5e1;
      transition: border-color 0.3s ease;
    }
    #edit-profile-card input[type="text"]:focus,
    #edit-profile-card input[type="date"]:focus {
      border-color: #007cf0;
      outline: none;
      background-color: #e7f0fe;
    }
    #edit-profile-card button#saveProfileBtn {
      margin-top: 2rem;
      background-color: #007cf0;
      color: white;
      border: none;
      padding: 14px 36px;
      border-radius: 12px;
      font-weight: 700;
      font-size: 1.1rem;
      cursor: pointer;
      transition: background-color 0.3s ease;
      display: block;
      margin-left: auto;
      user-select: none;
      box-shadow: 0 7px 20px rgba(0,124,240,0.6);
    }
    #edit-profile-card button#saveProfileBtn:hover,
    #edit-profile-card button#saveProfileBtn:focus {
      background-color: #005bb5;
      outline: none;
    }

    /* Optional overlay background when editing */
    #popup-overlay {
      display: none;
      position: fixed;
      top:0; left:0; right:0; bottom:0;
      background: rgba(0,0,0,0.25);
      z-index: 900;
    }
    #popup-overlay.active {
      display: block;
    }

    /* Responsive */
    @media (max-width: 1024px) {
      main.dashboard {
        margin-left: 280px;
        padding: 1.75rem 2rem;
        gap: 2rem;
      }
      .profile-card {
        flex-direction: column;
        align-items: center;
        gap: 2rem;
      }
      .info-fields {
        grid-template-columns: 1fr;
        gap: 1.2rem 1rem;
        text-align: center;
      }
      .info-fields label {
        justify-self: center;
      }
      .profile-image {
        width: 140px;
        height: 140px;
        font-size: 4.3rem;
      }
    }
    @media (max-width: 720px) {
      body {
        flex-direction: column;
      }
      nav.sidebar {
        position: relative;
        width: 100%;
        height: auto;
        flex-direction: row;
        justify-content: space-evenly;
        padding: 1rem 0;
        box-shadow: none;
      }
      nav.sidebar .profile-preview {
        display: none;
      }
      main.dashboard {
        margin: 0;
        padding: 1.5rem 1rem;
      }
      .section-card {
        padding: 1.8rem 1.5rem;
      }
      .title-sub {
        font-size: 1rem;
      }
      .section-card h3 {
        font-size: 1.45rem;
      }
      .broadcast-box label {
        font-size: 1rem;
      }
      .info-fields input[type="text"] {
        font-size: 0.95rem;
      }
      .grid-fields input[type="text"],
      .grid-fields input[type="date"],
      .broadcast-box textarea,
      .broadcast-box input[type="text"] {
        font-size: 0.95rem;
      }
      .download-btn,
      .send-btn,
      .footer-buttons button {
        padding: 12px 20px;
        font-size: 1rem;
      }
      .footer-buttons {
        flex-direction: column;
      }
      .footer-buttons button {
        width: 100%;
      }
      #edit-profile-card {
        width: 95%;
        padding: 1.5rem;
      }
    }
  </style>
</head>
<body>

  <nav class="sidebar" aria-label="Sidebar Navigation">
    <h2>HR Dashboard</h2>

<div class="profile-card-container">
  <div class="profile-preview" aria-label="Employee Summary">
    <div class="circle" tabindex="0" aria-label="Employee Info">
      <div class="popup-info" role="tooltip">
        <strong>Arun Mehta</strong><br/>
        Head Of HR &amp; People Analyst<br/>
        arun.mehta@example.com
      </div>
    </div>
    <div class="name" id="employee-name-preview">Arun Mehta</div>
    <div class="role" id="employee-role-preview">Head Of HR &amp; People Analyst</div>
  </div>
</div>



    <div class="nav-buttons">
      <button type="button" aria-label="Edit Profile">Edit Profile</button>
      <button type="button" aria-label="Survey Dashboard">Survey Dashboard</button>
    </div>
  </nav>

  <main class="dashboard" role="main" aria-label="HR Dashboard Content">
    <header class="dashboard-header">
      <span class="back-arrow" role="button" tabindex="0" aria-label="Go back">←</span>
      <h1>HR Dashboard</h1>
    </header>

    <div>
      <h3 class="title-sub" id="employee-role-main">Head Of HR &amp; People Analyst</h3>
    </div>

 <section class="profile-card" aria-label="Profile Section with personal details">
  <div class="info-fields">
    <label for="username">User Name:</label>
    <input id="username" type="text" placeholder="Arun Mehta" aria-required="true" value="Arun Mehta" readonly />

    <label for="email">Email:</label>
    <input id="email" type="text" placeholder="arun.mehta@corp.com" aria-required="true" value="arun.mehta@corp.com" readonly />

    <label for="location">Location:</label>
    <input id="location" type="text" placeholder="Bangalore, India" aria-required="true" value="Bangalore, India" readonly />
  </div>
</section>


    <section class="section-card" aria-labelledby="personal-work-label">
      <h3 id="personal-work-label">👤 Personal &amp; Work Details</h3>
      <div class="grid-fields">
        <div>
          <label for="phone">Phone:</label>
          <input id="phone" type="text" placeholder="Enter phone number" value="+91 98765 43210" readonly />
        </div>
        <div>
          <label for="department">Department:</label>
          <input id="department" type="text" placeholder="e.g. HR Ops" value="HR Ops" readonly />
        </div>
        <div>
          <label for="hrid">HR ID:</label>
          <input id="hrid" type="text" placeholder="e.g. HR2024X01" value="HR2024X01" readonly />
        </div>
        <div>
          <label for="joiningdate">Joining Date:</label>
          <input id="joiningdate" type="date" value="2018-02-14" readonly />
        </div>
      </div>
    </section>

    <section class="download-section" aria-label="Resume download area">
      <button class="download-btn" type="button" aria-haspopup="dialog" aria-label="Download Resume">
        Download CV 🗎
      </button>
    </section>

    <section class="broadcast-box" aria-labelledby="broadcast-message-label">
      <h3 id="broadcast-message-label">📢 Broadcast Message to All Employees</h3>

      <label for="msg-title">Message Title</label>
      <input id="msg-title" type="text" placeholder="e.g. Team Update or HR Policy" aria-required="true" />

      <label for="msg-content" style="margin-top: 1.2rem;">Message Content</label>
      <textarea id="msg-content" placeholder="Write your message here..." aria-required="true"></textarea>

      <button class="send-btn" type="button" aria-label="Send broadcast message">Send</button>
    </section>

    <section class="footer-buttons" role="toolbar" aria-label="Footer action buttons">
      <button type="button" aria-label="Edit Profile">Edit Profile</button>
      <button type="button" aria-label="Navigate to Survey Dashboard">Survey Dashboard</button>
    </section>
  </main>

  <!-- Edit Profile Popup Card -->
  <div id="edit-profile-card" role="dialog" aria-modal="true" aria-labelledby="edit-profile-title" tabindex="-1">
    <h2 id="edit-profile-title">Edit Profile</h2>

    <div class="form-row">
      <label for="editUsername">User Name:</label>
      <input type="text" id="editUsername" />
    </div>
    <div class="form-row">
      <label for="editEmail">Email:</label>
      <input type="text" id="editEmail" />
    </div>
    <div class="form-row">
      <label for="editLocation">Location:</label>
      <input type="text" id="editLocation" />
    </div>
    <div class="form-row">
      <label for="editPhone">Phone:</label>
      <input type="text" id="editPhone" />
    </div>
    <div class="form-row">
      <label for="editDepartment">Department:</label>
      <input type="text" id="editDepartmentPopup" />
    </div>
    <div class="form-row">
      <label for="editHRID">HR ID:</label>
      <input type="text" id="editHRID" />
    </div>
    <div class="form-row">
      <label for="editJoiningDate">Joining Date:</label>
      <input type="date" id="editJoiningDate" />
    </div>

    <button id="saveProfileBtn" type="button" aria-label="Save Profile">Save</button>
  </div>

  <!-- Overlay background -->
  <div id="popup-overlay" aria-hidden="true"></div>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      // Elements
      const sidebarEditBtn = document.querySelector('nav.sidebar button[aria-label="Edit Profile"]');
      const footerEditBtn = document.querySelector('section.footer-buttons button[aria-label="Edit Profile"]');
      const editCard = document.getElementById('edit-profile-card');
      const overlay = document.getElementById('popup-overlay');

      // Main form inputs
      const inputs = {
        username: document.getElementById('username'),
        email: document.getElementById('email'),
        location: document.getElementById('location'),
        phone: document.getElementById('phone'),
        department: document.getElementById('department'),
        hrid: document.getElementById('hrid'),
        joiningdate: document.getElementById('joiningdate'),
      };

      // Sidebar and main role displays
      const sidebarName = document.getElementById('employee-name-preview');
      const sidebarRole = document.getElementById('employee-role-preview');
      const mainRole = document.getElementById('employee-role-main');

      // Edit popup inputs
      const editInputs = {
        username: document.getElementById('editUsername'),
        email: document.getElementById('editEmail'),
        location: document.getElementById('editLocation'),
        phone: document.getElementById('editPhone'),
        department: document.getElementById('editDepartmentPopup'),
        hrid: document.getElementById('editHRID'),
        joiningdate: document.getElementById('editJoiningDate'),
      };

      // Helper: populate popup inputs from main inputs
      function populateEditInputs() {
        editInputs.username.value = inputs.username.value;
        editInputs.email.value = inputs.email.value;
        editInputs.location.value = inputs.location.value;
        editInputs.phone.value = inputs.phone.value;
        editInputs.department.value = inputs.department.value;
        editInputs.hrid.value = inputs.hrid.value;
        editInputs.joiningdate.value = inputs.joiningdate.value;
      }

      // Helper: update main inputs and sidebar preview from popup inputs
      function updateProfileData() {
        inputs.username.value = editInputs.username.value.trim();
        inputs.email.value = editInputs.email.value.trim();
        inputs.location.value = editInputs.location.value.trim();
        inputs.phone.value = editInputs.phone.value.trim();
        inputs.department.value = editInputs.department.value.trim();
        inputs.hrid.value = editInputs.hrid.value.trim();
        inputs.joiningdate.value = editInputs.joiningdate.value;

        // Update sidebar preview
        sidebarName.textContent = editInputs.username.value;
        // Compose role, for example Department + " & People Analyst" or just department
        const roleText = editInputs.department.value ? editInputs.department.value + " & People Analyst" : "People Analyst";
        sidebarRole.textContent = roleText;
        mainRole.textContent = roleText;
      }

      // Show the edit popup
      function showEditPopup() {
        populateEditInputs();
        editCard.style.display = 'block';
        overlay.classList.add('active');
        editCard.focus();
        // Hide main inputs readonly but keep visible
        Object.values(inputs).forEach(inp => inp.readOnly = true);
      }

      // Hide the edit popup
      function hideEditPopup() {
        editCard.style.display = 'none';
        overlay.classList.remove('active');
        // Inputs stay readonly until next edit
      }

      // Event Listeners for Edit buttons
      sidebarEditBtn.addEventListener('click', showEditPopup);
      footerEditBtn.addEventListener('click', showEditPopup);
      overlay.addEventListener('click', hideEditPopup);

      // Save button in popup
      document.getElementById('saveProfileBtn').addEventListener('click', () => {
        // Basic validation example (username required)
        if (!editInputs.username.value.trim()) {
          alert('User Name cannot be empty.');
          editInputs.username.focus();
          return;
        }

        updateProfileData();
        hideEditPopup();
        // After save, fields remain readonly on main page (no inline editing)
      });

      // Accessibility: Close popup on ESC
      editCard.addEventListener('keydown', (e) => {
        if (e.key === 'Escape') {
          e.preventDefault();
          hideEditPopup();
          sidebarEditBtn.focus();
        }

        // Focus trap inside popup
        if (e.key === 'Tab') {
          const focusableElements = editCard.querySelectorAll('input, button');
          const first = focusableElements[0];
          const last = focusableElements[focusableElements.length - 1];

          if (e.shiftKey) { // shift+tab
            if (document.activeElement === first) {
              e.preventDefault();
              last.focus();
            }
          } else { // tab
            if (document.activeElement === last) {
              e.preventDefault();
              first.focus();
            }
          }
        }
      });
    });
  </script>
</body>
</html>
